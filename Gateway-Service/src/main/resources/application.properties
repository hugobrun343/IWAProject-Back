spring.application.name=Gateway-Service
server.port=${SERVER_PORT}

# Keycloak OAuth2 JWT configuration
spring.security.oauth2.resourceserver.jwt.issuer-uri=${KEYCLOAK_SERVER_URL}/realms/${KEYCLOAK_REALM}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${KEYCLOAK_SERVER_URL}/realms/${KEYCLOAK_REALM}/protocol/openid-connect/certs

# Gateway secret to prevent direct service access
gateway.secret=${GATEWAY_SECRET}

# CORS configuration (Frontend origins only)
cors.allowed.origins=${CORS_FRONTEND_ORIGINS}

# Gateway routes configuration
spring.cloud.gateway.server.webmvc.routes[0].id=user-service
spring.cloud.gateway.server.webmvc.routes[0].uri=${USER_SERVICE_URL}
spring.cloud.gateway.server.webmvc.routes[0].predicates[0]=Path=/api/users/**, /api/languages, /api/specialisations

spring.cloud.gateway.server.webmvc.routes[1].id=announcement-service
spring.cloud.gateway.server.webmvc.routes[1].uri=${ANNOUNCEMENT_SERVICE_URL}
spring.cloud.gateway.server.webmvc.routes[1].predicates[0]=Path=/api/announcements/**

spring.cloud.gateway.server.webmvc.routes[2].id=application-service
spring.cloud.gateway.server.webmvc.routes[2].uri=${APPLICATION_SERVICE_URL}
spring.cloud.gateway.server.webmvc.routes[2].predicates[0]=Path=/api/applications/**

spring.cloud.gateway.server.webmvc.routes[3].id=chat-service
spring.cloud.gateway.server.webmvc.routes[3].uri=${CHAT_SERVICE_URL}
spring.cloud.gateway.server.webmvc.routes[3].predicates[0]=Path=/api/chats/**, /api/messages/**

spring.cloud.gateway.server.webmvc.routes[4].id=favorite-service
spring.cloud.gateway.server.webmvc.routes[4].uri=${FAVORITE_SERVICE_URL}
spring.cloud.gateway.server.webmvc.routes[4].predicates[0]=Path=/api/favorites/**

spring.cloud.gateway.server.webmvc.routes[5].id=log-service
spring.cloud.gateway.server.webmvc.routes[5].uri=${LOG_SERVICE_URL}
spring.cloud.gateway.server.webmvc.routes[5].predicates[0]=Path=/api/logs/**

spring.cloud.gateway.server.webmvc.routes[6].id=payment-service
spring.cloud.gateway.server.webmvc.routes[6].uri=${PAYMENT_SERVICE_URL}
spring.cloud.gateway.server.webmvc.routes[6].predicates[0]=Path=/api/payments/**

spring.cloud.gateway.server.webmvc.routes[7].id=rating-service
spring.cloud.gateway.server.webmvc.routes[7].uri=${RATING_SERVICE_URL}
spring.cloud.gateway.server.webmvc.routes[7].predicates[0]=Path=/api/ratings/**

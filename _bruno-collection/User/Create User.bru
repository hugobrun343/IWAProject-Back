meta {
  name: Create User
  type: http
  seq: 3
}

post {
  url: {{GATEWAY_URL}}/api/users
  body: json
  auth: bearer
}

auth:bearer {
  token: {{ACCESS_TOKEN}}
}

body:json {
  {
    "firstName": "John",
    "lastName": "Doe",
    "phoneNumber": "+33123456789",
    "location": "Paris, France",
    "description": "New user profile created via Bruno",
    "preferences": "{}"
  }
}

script:post-response {
  if (res.status === 201) {
    console.log('âœ… User created successfully');
    console.log('ğŸ‘¤ Username:', res.body.username);
    console.log('ğŸ‘¨â€ğŸ’¼ First name:', res.body.firstName);
    console.log('ğŸ‘¨â€ğŸ’¼ Last name:', res.body.lastName);
  } else if (res.status === 409) {
    console.warn('âš ï¸ User already exists');
  } else {
    console.error('âŒ Failed to create user:', res.status, res.body);
  }
}
